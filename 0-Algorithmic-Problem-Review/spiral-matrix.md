## [**Spiral Matrix**](https://leetcode.com/problems/spiral-matrix)

주어진 2차원 배열을 나선형(spiral)으로 순회하면서 모든 요소를 하나의 배열에 담아 반환하는 문제다. 

즉, 배열을 시계 방향으로 돌면서 값을 추출하는 방식으로 해결해야 한다.

## 주요 포인트

- **2차원 배열 순회**: 배열의 행(row)과 열(column)을 기준으로 좌표를 이동하면서 배열의 값을 처리하는 방법을 알아야 한다.
- **방향 전환 로직**: 배열의 경계에 도달하거나 이미 방문한 요소를 만났을 때 방향을 바꾸는 조건 설정이 필요하다. 이는 시계 방향(오른쪽 → 아래 → 왼쪽 → 위)으로 이동하는 순서를 이해하는 것이 중요하다.
- **배열의 경계 처리**: 배열의 끝에 도달했거나 이미 방문한 요소를 만났을 때 적절하게 처리하는 방법을 알아야 한다. 이를 위해 범위 검사를 통해 배열의 끝을 확인하고 방문 여부를 관리해야 한다.

## 나의 코드

```jsx
var spiralOrder = function(matrix) {
  const arr = [];
  let x = 0;
  let y = 0;
  
  let dir = 'right';
  
  for (let i = 0; i < matrix.length * matrix[0].length; i++) {
    if (matrix[x][y] !== undefined) {
      arr.push(matrix[x][y]);
      matrix[x][y] = undefined;
    }
    
    if (dir === 'right') {
      if (matrix[x][y + 1] === undefined || y + 1 >= matrix[0].length) {
        dir = 'down';
        x++;
      } else {
        y++;
      }
    } else if (dir === 'down') {
      if (matrix[x + 1] === undefined || matrix[x + 1][y] === undefined) {
        dir = 'left';
        y--;
      } else {
        x++;
      }
    } else if (dir === 'left') { 
      if (matrix[x][y - 1] === undefined || y - 1 < 0) {
        dir = 'up';
        x--;
      } else {
        y--;
      }
    } else if (dir === 'up') {
      if (matrix[x - 1] === undefined || matrix[x - 1][y] === undefined || x - 1 < 0) {
        dir = 'right';
        y++;
      } else {
        x--;
      }
    }
  } 
  
  return arr;
};
```

## 나의 수도 코드

1. **초기화**
    - 빈 배열 `arr`를 생성한다. 이 배열은 결과 값을 담기 위한 배열이다.
    - 시작 위치 좌표 `x = 0`, `y = 0`으로 초기화한다.
    - 현재 이동 방향을 `right`로 설정한다.
2. **반복 (matrix의 모든 값을 처리할 때까지)**
    - **현재 위치의 값이 `undefined`가 아닌지 확인**
        - 현재 좌표 `(x, y)`의 값이 `undefined`가 아니면, 그 값을 `arr` 배열에 추가한다.
        - 추가한 후, 해당 좌표의 값을 `undefined`로 설정하여 방문했음을 표시한다.
3. **현재 방향에 따라 이동**
    - **오른쪽으로 이동**
        - 만약 `y + 1`이 배열의 범위를 넘거나, 오른쪽에 있는 값이 `undefined`이면 방향을 `down`으로 바꾼다.
        - 그렇지 않으면 `y++`하여 오른쪽으로 이동한다.
    - **아래로 이동**
        - 만약 `x + 1`이 배열의 범위를 넘거나, 아래쪽에 있는 값이 `undefined`이면 방향을 `left`로 바꾼다.
        - 그렇지 않으면 `x++`하여 아래로 이동한다.
    - **왼쪽으로 이동**
        - 만약 `y - 1`이 배열의 범위를 넘거나, 왼쪽에 있는 값이 `undefined`이면 방향을 `up`으로 바꾼다.
        - 그렇지 않으면 `y--`하여 왼쪽으로 이동한다.
    - **위쪽으로 이동**
        - 만약 `x - 1`이 배열의 범위를 넘거나, 위쪽에 있는 값이 `undefined`이면 방향을 `right`로 바꾼다.
        - 그렇지 않으면 `x--`하여 위쪽으로 이동한다.
4. **반복 종료**
    - 2차원 배열의 모든 요소가 `arr`에 추가될 때까지 반복한다.
5. **결과 반환**
    - 최종적으로 결과 배열 `arr`을 반환한다.

## 알아둬야 할 것!

### 1. **2차원 배열 (Matrix)**

2차원 배열은 행(row)과 열(column)로 구성된 배열이다.

이 문제에서는 2차원 배열을 나선형으로 순회하면서 모든 요소를 순서대로 배열에 저장해야 한다.

- **배열의 인덱스**:
    - 행은 `matrix[row]`로 접근하고, 열은 `matrix[row][col]`로 접근한다.
    - 예시: `matrix[2][1]`은 2번째 행, 1번째 열의 값을 의미한다.

### 2. **배열의 경계 처리**

나선형으로 순회할 때는 배열의 경계를 넘어가지 않도록 적절하게 관리해야 한다.

배열의 경계를 넘는 순간 `undefined`가 발생하거나 오류가 날 수 있기 때문에 아래 사항을 잘 알아야 한다.

- **배열의 행과 열 길이**
    - 행의 길이: `matrix.length`
    - 열의 길이: `matrix[0].length` (행이 비어 있지 않은 경우)
- **경계 조건**
    - 인덱스가 음수 또는 배열의 크기를 초과하는 경우는 경계를 벗어나는 상태이다.
    - 예시: `row >= matrix.length`, `col < 0`

### 3. **4개의 경계 (Top, Bottom, Left, Right) 관리**

배열의 경계를 벗어나지 않도록 하기 위해 4개의 변수를 사용해 경계를 관리

- `top`: 위쪽 경계
- `bottom`: 아래쪽 경계
- `left`: 왼쪽 경계
- `right`: 오른쪽 경계

나선형으로 배열을 순회할 때, 각각의 방향을 다 돈 후에는 경계를 줄여서 다음 순회 범위를 좁힌다.

## 회고

이번 문제 해결 과정을 통해 **2차원 배열을 다루는 방법**과 **효율적인 경계 관리**의 중요성을 배울 수 있었다.

나선형 순회라는 개념이 처음엔 어렵게 느껴졌지만, 차근차근 문제를 분석하고 작은 단계로 나누어 해결하는 과정이 중요하다는 것을 깨달았다.

앞으로도 복잡한 문제에 직면했을 때 이와 같은 접근 방식을 유지하면서, 점진적으로 해결하는 능력을 길러야겠다.
